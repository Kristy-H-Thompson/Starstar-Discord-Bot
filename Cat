import random
import os
import discord

def meow(ctx, color):
  try:
    dir = "images/" + str(color)
  except:
    return("Yeah buddy, I don't know what color " + str(color) + " is, sorry.")
  initial_count = 0
  for path in os.listdir(dir):
    if os.path.isfile(os.path.join(dir, path)):
        initial_count += 1
  rand = random.randint(0,initial_count-1)
  print(initial_count, rand)
  try:
    pa = dir + "/" + str(rand) + ".jpg"
    image = openpath(pa)
  except:
    try:
      pa = dir + "/" + str(rand) + ".jpeg"
      image = openpath(pa)
    except:
      pa = dir + "/" + str(rand) + ".png"
      image = openpath(pa)
  return(image)
    
    
def openpath(my_filename):
  print(my_filename)
  with open(my_filename, "rb") as fh:
    img = discord.File(fh, filename=my_filename) 
  return(img)
